<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:p="http://primefaces.org/ui"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:html="http://xmlns.jcp.org/jsf/passthrough"
	template="/WEB-INF/templates/template_others.xhtml">

	<ui:define name="head">
		<title>Administrador - Login</title>
		<meta name="robots" content="noindex" />
		
		<script type="text/javascript">
		$(document).ready(function() {
			//remueve todas las clases del boton primefaces
			$("#btnentrar").removeClass();
			
			//agrega las nuevas clases al boton
			$("#btnentrar").addClass("btn btn-default");
		});
		</script>
	</ui:define>

	<ui:define name="content_page">
		<!--start-content-->
		<div class="blog">
			<div class="container">
				<div class="blog-top">
					<div class="col-md-9 blog-grid">
						<h:form id="form-login" prependId="false">

							<div class="section-heading">
								<h2>Administración</h2>
								<div class="hr"></div>
							</div>

							<div class="blog-grid3 col-md-7">
								<p:focus for="txtusuario"></p:focus>
								<p:messages id="mensajes" showDetail="false"></p:messages>
								
								<div class=" blog-grid2">
									<div class="panel panel-success">
							      <div class="panel-heading">Login</div>
							      <div class="panel-body">
							      	<div class="form-group">
							      		<h:outputLabel value="Usuario" for="txtusuario" />
							      	</div>
											<div class="form-group">
												<p:inputText id="txtusuario" value="#{usuarioBean.username}"
													required="true" requiredMessage="Ingrese Usuario"
													label="Usuario" html:type="text" 
													html:data-toggle="tooltip"></p:inputText>
											</div>
											<div class="form-group">
							      		<h:outputLabel value="Clave" for="txtusuario" />
							      	</div>
											<div class="form-group">
												<p:password id="txtclave" value="#{usuarioBean.password}"
													required="true" requiredMessage="Ingrese Clave" 
													label="Clave" html:type="password" 
													html:data-toggle="tooltip"></p:password>
											</div>
										</div>
							    </div>
									<p:captcha id="idcaptcha" label="Captcha" required="true"
											requiredMessage="Verifique el cuadro reCAPTCHA"
											language="es" />
									<div class="form-group" >
										<p:commandButton id="btnentrar" 
											value="Entrar" action="#{usuarioBean.login()}"
											update="mensajes, idcaptcha"
											process="idcaptcha, txtusuario, txtclave" ></p:commandButton>
									</div>
									<div class="form-group" >
										<p:commandLink id="idOlvidoClave" 
											value="Olvidé mi clave" action="#{usuarioBean.enviarOlvidoClave()}"
											update="mensajes, idcaptcha"
											process="idcaptcha, txtusuario" ></p:commandLink>
									</div>
								</div>
								<div class="clearfix"></div>
							</div>
						</h:form>
					</div>
				</div>
			</div>
		</div>
		<!--end-content-->
		
	</ui:define>
</ui:composition>